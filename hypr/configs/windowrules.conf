# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                    Windowrules Configuration                ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

# Windows Rules https://wiki.hyprland.org/0.45.0/Configuring/Window-Rules/ #

# Example windowrules that are useful
windowrule {
    # Ignore maximize requests from all apps. You'll probably like this.
    name = suppress-maximize-events
    match:class = .*

    suppress_event = maximize
}

windowrule {
    # Fix some dragging issues with XWayland
    name = fix-xwayland-drags
    match:class = ^$
    match:title = ^$
    match:xwayland = true
    match:float = true
    match:fullscreen = false
    match:pin = false

    no_focus = true
}

# Float Necessary Windows
windowrule = match:class ^(Rofi)$, float yes
windowrule = match:class ^(org.pulseaudio.pavucontrol), float yes
windowrule = match:class ^()$, match:title ^(Picture in picture)$, float yes
windowrule = match:class ^()$, match:title ^(Save File)$, float yes
windowrule = match:class ^()$, match:title ^(Open File)$, float yes
windowrule = match:class ^(vivaldi)$, match:title ^(Picture-in-Picture)$, float yes
windowrule = match:class ^(blueman-manager)$, float yes
windowrule = match:class ^(xdg-desktop-portal-gtk|xdg-desktop-portal-kde|xdg-desktop-portal-hyprland)(.*)$, float yes
windowrule = match:class ^(polkit-gnome-authentication-agent-1|hyprpolkitagent|org.org.kde.polkit-kde-authentication-agent-1)(.*)$, float yes
windowrule = match:class ^(CachyOSHello)$, float yes
windowrule = match:class ^(zenity)$, float yes
windowrule = match:class ^()$, match:title ^(Steam - Self Updater)$, float yes

# Increase the opacity
windowrule = match:class ^(VirtualBox Manager), opacity 0.46
windowrule = match:class ^(thunar|nemo)$, opacity 0.92
windowrule = match:class ^(obsidian|sioyek)$, opacity 0.92
windowrule = match:class ^(discord|armcord|webcord|vesktop)$, opacity 0.92
windowrule = match:title ^(Signal)$, opacity 0.90
windowrule = match:class ^(firefox)$, opacity 0.92

# General window rules
windowrule {  
    name = picture-in-picture  
    match:title = ^(Picture-in-Picture)$  
  
    float = yes
    size = 320 180
    # move = 100%-600 100%-300
    move = monitor_w-360 monitor_h-230  
    pin = on
} 

windowrule {
    name = media-float
    match:class = ^(imv|mpv|nemo|ncmpcpp)$

    float = yes
    size = 960 540
    center = yes
}

windowrule {
    name = termfloat
    match:title = ^(termfloat)$

    float = yes
    size = 960 540
    rounding = 5
    center = yes
}

windowrule {
    name = termfloat-rounding
    match:title = ^(termfloat)$

    rounding = 5
}

windowrule {
    name = termfloat-sensors
    match:title = ^(termfloat-sensors)$

    float = yes
    size = 760 420
    move = monitor_w-790 40
    pin = on
    rounding = 0
}

windowrule {
    name = termfloat-calendar
    match:title = ^(termfloat-calendar)$

    float = yes
    size = 420 260
    move = monitor_w-450 40
    pin = on
    rounding = 0
}

windowrule = match:class ^(kitty|Alacritty)$, animation slide right
windowrule = match:class ^(org.mozilla.firefox)$, no_blur true

# Idle screensaver terminal overlay (kitty --class screensaver)
windowrule {
    name = idle-screensaver
    match:class = ^(screensaver)$

    fullscreen = yes
    float = yes
    pin = on
    border_size = 0
    rounding = 0
    opacity = 1.0
}

# danmufloat
windowrule {
    name = danmufloat
    match:title = ^(danmufloat)$

    float = yes
    size = 420 240
    move = 20 100%-260
    monitor = DVI-D-1
    workspace = 6 silent
    pin = true
    rounding = 5
}

# Decorations related to floating windows on workspaces 1 to 10
windowrule {
    name = floating-decorations
    match:float = true
    match:workspace = w[fv1-10]

    border_size = 2
    border_color = $cachylblue
    rounding = 8
}

# Decorations related to tiling windows on workspaces 1 to 10
windowrule {
    name = tiling-decorations
    match:float = false
    match:workspace = f[1-10]

    border_size = 3
    rounding = 4
}

# Fullscreen opacity disable
windowrule {
    name = fullscreen-opacity
    match:fullscreen = 1

    opacity = 1
}
# Windows Rules End #

# Workspaces Rules https://wiki.hyprland.org/0.45.0/Configuring/Workspace-Rules/ #
workspace = 1, default:true, monitor:HDMI-A-1
workspace = 6, default:true, monitor:DVI-D-1
# Workspace selectors https://wiki.hyprland.org/0.45.0/Configuring/Workspace-Rules/#workspace-selectors
workspace = r[1-5], monitor:HDMI-A-1
workspace = r[6-10], monitor:DVI-D-1
# workspace = special:scratchpad, on-created-empty:$applauncher
# no_gaps_when_only deprecated instead workspaces rules with selectors can do the same
# Smart gaps from 0.45.0 https://wiki.hyprland.org/0.45.0/Configuring/Workspace-Rules/#smart-gaps
workspace = w[tv1-10], gapsout:5, gapsin:3
workspace = f[1], gapsout:5, gapsin:3
# Workspaces Rules End #

# Layers Rules #
layerrule = match:namespace logout_dialog, animation slide top
# layerrule = animation popin 50%, waybar
layerrule = match:namespace waybar, animation slide down
layerrule = match:namespace wallpaper, animation fade
# Layers Rules End #
